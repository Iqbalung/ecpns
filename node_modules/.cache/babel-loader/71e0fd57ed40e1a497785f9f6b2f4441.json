{"ast":null,"code":"import _slicedToArray from\"/home/fathurrohman/Works/eduvibe/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{useFilterContext}from'../../context/filter_context';import SortCourse from'../../components/course/SortCourse';import CourseTypeThree from'./CourseTypeThree';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var CourseItemsForFilter=function CourseItemsForFilter(){var _useFilterContext=useFilterContext(),courses=_useFilterContext.filtered_courses,searchbycourse=_useFilterContext.searchbycourse,filters=_useFilterContext.filters;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),page=_useState2[0],setPage=_useState2[1];var coursesPerPage=10;var paginate=function paginate(items){var perPage=coursesPerPage;var numberOfPages=Math.ceil(items.length/perPage);var newCourses=Array.from({length:numberOfPages},function(_,index){var start=index*perPage;return items.slice(start,start+perPage);});return newCourses;};var data=paginate(courses);var nextPage=function nextPage(){setPage(function(oldPage){var nextPage=oldPage+1;if(nextPage>data.length-1){nextPage=0;}return nextPage;});};var prevPage=function prevPage(){setPage(function(oldPage){var prevPage=oldPage-1;if(prevPage<0){prevPage=data.length-1;}return prevPage;});};var handlePage=function handlePage(index){setPage(index);};useEffect(function(){setPage(0);},[searchbycourse,filters]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(SortCourse,{showPerPage:coursesPerPage}),/*#__PURE__*/_jsx(\"div\",{className:\"row g-5 mt--10\",children:data[page]!==undefined&&data[page].map(function(course){return/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-6 col-md-6\",children:/*#__PURE__*/_jsx(CourseTypeThree,{data:course})},course.id);})}),data.length>1&&/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-12 mt--60\",children:/*#__PURE__*/_jsx(\"div\",{className:\"nav\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"edu-pagination\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"prev-btn\",children:/*#__PURE__*/_jsx(\"button\",{onClick:prevPage,children:/*#__PURE__*/_jsx(\"i\",{className:\"ri-arrow-drop-left-line\"})})}),data.map(function(_,index){return/*#__PURE__*/_jsx(\"li\",{className:\"page-item \".concat(index===page?' active':''),children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handlePage(index);},children:index+1})},index);}),/*#__PURE__*/_jsx(\"li\",{className:\"next-btn\",children:/*#__PURE__*/_jsx(\"button\",{onClick:nextPage,children:/*#__PURE__*/_jsx(\"i\",{className:\"ri-arrow-drop-right-line\"})})})]})})})})]});};export default CourseItemsForFilter;","map":{"version":3,"sources":["/home/fathurrohman/Works/eduvibe/src/components/course/CourseItemsForFilter.js"],"names":["React","useState","useEffect","useFilterContext","SortCourse","CourseTypeThree","CourseItemsForFilter","courses","filtered_courses","searchbycourse","filters","page","setPage","coursesPerPage","paginate","items","perPage","numberOfPages","Math","ceil","length","newCourses","Array","from","_","index","start","slice","data","nextPage","oldPage","prevPage","handlePage","undefined","map","course","id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useFilterContext } from '../../context/filter_context';\nimport SortCourse from '../../components/course/SortCourse';\nimport CourseTypeThree from './CourseTypeThree';\n\nconst CourseItemsForFilter = () => {\n    const { filtered_courses: courses, searchbycourse, filters } = useFilterContext();\n    const [page, setPage] = useState( 0 );\n    const coursesPerPage = 10;\n\n    const paginate = ( items ) => {\n        const perPage = coursesPerPage;\n        const numberOfPages = Math.ceil( items.length / perPage );\n      \n        const newCourses = Array.from( { length: numberOfPages }, ( _, index ) => {\n            const start = index * perPage;\n            return items.slice( start, start + perPage )\n        } )\n      \n        return newCourses;\n    }\n\n    const data = paginate( courses );\n\n    const nextPage = () => {\n        setPage( ( oldPage ) => {\n            let nextPage = oldPage + 1;\n            if ( nextPage > data.length - 1 ) {\n                nextPage = 0;\n            }\n            return nextPage;\n        } )\n    }\n      \n    const prevPage = () => {\n        setPage( ( oldPage ) => {\n            let prevPage = oldPage - 1;\n            if ( prevPage < 0 ) {\n                prevPage = data.length - 1;\n            }\n            return prevPage;\n        } )\n    }\n    \n    const handlePage = ( index ) => {\n        setPage( index );\n    }\n\n    useEffect( () => {\n        setPage( 0 );\n    }, [searchbycourse, filters] );\n\n    return (\n        <>\n            <SortCourse showPerPage={ coursesPerPage } />\n            \n            <div className=\"row g-5 mt--10\">\n                { data[page] !== undefined &&\n                    data[page].map( ( course ) => {\n                    return (\n                        <div key={ course.id } className=\"col-lg-6 col-md-6\">\n                            <CourseTypeThree data={ course } />\n                        </div>\n                    )\n                } ) }\n            </div>\n\n            { data.length > 1 && \n                <div className=\"row\">\n                    <div className=\"col-lg-12 mt--60\">\n                        <div className=\"nav\">\n                            <ul className=\"edu-pagination\">\n                                <li className=\"prev-btn\">\n                                    <button onClick={ prevPage }>\n                                        <i className=\"ri-arrow-drop-left-line\"></i>\n                                    </button>\n                                </li>\n                                { data.map( ( _, index ) => {\n                                    return (\n                                        <li \n                                            key={ index }\n                                            className={ `page-item ${ index === page ? ' active' : '' }` }\n                                        >\n                                            <button onClick={ () => handlePage( index ) }>\n                                                { index + 1}\n                                            </button>\n                                        </li>\n                                        \n                                    )\n                                } ) }\n                                <li className=\"next-btn\">\n                                    <button onClick={ nextPage }>\n                                        <i className=\"ri-arrow-drop-right-line\"></i>\n                                    </button>\n                                </li>\n                            </ul>\n                        </div>\n                    </div>\n                </div>\n            }\n        </>\n    )\n}\n\nexport default CourseItemsForFilter;"]},"metadata":{},"sourceType":"module"}