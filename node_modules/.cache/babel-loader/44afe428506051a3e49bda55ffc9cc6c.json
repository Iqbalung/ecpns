{"ast":null,"code":"var _jsxFileName = \"/home/fathurrohman/Works/eduvibe/src/context/filter_context.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useEffect, useContext, useReducer } from 'react';\nimport reducer from '../reducers/filter_reducer';\nimport { useCoursesContext } from './courses_context';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst defaultState = {\n  filtered_courses: [],\n  all_courses: [],\n  searchbycourse: '',\n  filters: {\n    coursesortby: 'none',\n    filterbyprice: 'no-filter-price',\n    filterbylevel: 'all',\n    min_price: 0,\n    max_price: 0,\n    price: 0\n  }\n};\nconst FilterContext = /*#__PURE__*/React.createContext();\nexport const FilterProvider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const {\n    courses\n  } = useCoursesContext();\n  const [state, dispatch] = useReducer(reducer, defaultState);\n  useEffect(() => {\n    dispatch({\n      type: 'LOAD_COURSES',\n      payload: courses\n    });\n  }, [courses]);\n  useEffect(() => {\n    dispatch({\n      type: 'FILTER_COURSES'\n    });\n    dispatch({\n      type: 'SEARCH_COURSES'\n    });\n  }, [courses, state.sorting, state.searchbycourse, state.filters]);\n\n  const updateSort = e => {\n    const value = e.target.value;\n    dispatch({\n      type: 'UPDATE_SORT',\n      payload: value\n    });\n  };\n\n  const updateSearch = e => {\n    let name = e.target.name;\n    const value = e.target.value;\n    dispatch({\n      type: 'UPDATE_SEARCH',\n      payload: {\n        name,\n        value\n      }\n    });\n  };\n\n  const updateFilters = e => {\n    let name = e.target.name;\n    let value = e.target.value;\n\n    if (name === 'price') {\n      value = Number(value);\n    }\n\n    dispatch({\n      type: 'UPDATE_FILTERS',\n      payload: {\n        name,\n        value\n      }\n    });\n  };\n\n  const clearFilters = () => {\n    dispatch({\n      type: 'CLEAR_FILTERS'\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(FilterContext.Provider, {\n    value: { ...state,\n      updateSort,\n      updateSearch,\n      updateFilters,\n      clearFilters\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this);\n};\n\n_s(FilterProvider, \"qHdSoDDY5gc3FTR7z+DO1GKIulQ=\", false, function () {\n  return [useCoursesContext];\n});\n\n_c = FilterProvider;\nexport const useFilterContext = () => {\n  _s2();\n\n  return useContext(FilterContext);\n};\n\n_s2(useFilterContext, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nvar _c;\n\n$RefreshReg$(_c, \"FilterProvider\");","map":{"version":3,"sources":["/home/fathurrohman/Works/eduvibe/src/context/filter_context.js"],"names":["React","useEffect","useContext","useReducer","reducer","useCoursesContext","defaultState","filtered_courses","all_courses","searchbycourse","filters","coursesortby","filterbyprice","filterbylevel","min_price","max_price","price","FilterContext","createContext","FilterProvider","children","courses","state","dispatch","type","payload","sorting","updateSort","e","value","target","updateSearch","name","updateFilters","Number","clearFilters","useFilterContext"],"mappings":"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","sourcesContent":["import React, { useEffect, useContext, useReducer } from 'react';\nimport reducer from '../reducers/filter_reducer';\nimport { useCoursesContext } from './courses_context';\n\nconst defaultState = {\n    filtered_courses: [],\n    all_courses: [],\n    searchbycourse: '',\n    filters: {\n        coursesortby: 'none',\n        filterbyprice: 'no-filter-price',\n        filterbylevel: 'all',\n        min_price: 0,\n        max_price: 0,\n        price: 0\n    }\n}\n\nconst FilterContext = React.createContext();\n\nexport const FilterProvider = ( { children } ) => {\n    const { courses } = useCoursesContext();\n    const [state, dispatch] = useReducer( reducer, defaultState );\n\n    useEffect( () => {\n        dispatch( { type: 'LOAD_COURSES', payload: courses } )\n    }, [courses] )\n\n    useEffect( () => {\n        dispatch( { type: 'FILTER_COURSES' } )\n        dispatch( { type: 'SEARCH_COURSES' } )\n    }, [courses, state.sorting, state.searchbycourse, state.filters] );\n\n    const updateSort = (e) => {\n        const value = e.target.value\n        dispatch({ type: 'UPDATE_SORT', payload: value })\n    }\n\n    const updateSearch = (e) => {\n        let name = e.target.name;\n        const value = e.target.value;\n        dispatch( { type: 'UPDATE_SEARCH', payload: { name, value } } )\n    }\n    const updateFilters = (e) => {\n        let name = e.target.name;\n        let value = e.target.value;\n        if ( name === 'price' ) {\n            value = Number( value )\n        }\n        dispatch( { type: 'UPDATE_FILTERS', payload: { name, value } } )\n    }\n    const clearFilters = () => {\n        dispatch( { type: 'CLEAR_FILTERS' } )\n    }\n    \n    return (\n        <FilterContext.Provider\n            value={{\n                ...state,\n                updateSort,\n                updateSearch,\n                updateFilters,\n                clearFilters\n            }}\n        >\n            {children}\n        </FilterContext.Provider>\n    )\n}\n\nexport const useFilterContext = () => {\n    return useContext( FilterContext )\n}"]},"metadata":{},"sourceType":"module"}